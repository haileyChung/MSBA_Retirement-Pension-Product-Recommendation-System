"""
데이터 크롤링 설정 파일
- 모든 크롤러에서 사용하는 경로 및 API 키 관리
"""

import os

# =============================================================================
# 기본 경로 설정
# =============================================================================

# 기본 디렉토리 (이 파일이 위치한 폴더)
BASE_DIR = os.path.dirname(os.path.abspath(__file__))

# 입력 파일 폴더
INPUT_DIR = os.path.join(BASE_DIR, "input")

# 출력 파일 폴더
OUTPUT_DIR = os.path.join(BASE_DIR, "output")


# =============================================================================
# API 키 설정
# =============================================================================

# KRX API 키 (ETF, 리츠 가격 크롤링용)
KRX_API_KEY = "YOUR_API_KEY"


# =============================================================================
# 입력 파일 경로 설정
# =============================================================================

# 1번 크롤러 (ETF 가격): ETF 코드 목록
ETF_CODE_LIST_FILE = os.path.join(INPUT_DIR, "etf_code_list.xlsx")

# 2번, 5번 크롤러 (리츠 가격/배당): 통합 리츠 목록
REITS_LIST_FILE = os.path.join(INPUT_DIR, "reits_list.xlsx")

# 3번 크롤러 (펀드 가격): 펀드 코드 목록
FUND_CODE_LIST_FILE = os.path.join(INPUT_DIR, "fund_code_list.xlsx")

# 6번 크롤러 (펀드 배당): 펀드 ISIN 목록
FUND_ISIN_LIST_FILE = os.path.join(INPUT_DIR, "fund_isin_list.xlsx")


# =============================================================================
# 크롤링 기간 설정
# =============================================================================

# 가격 데이터 수집 기간 (년)
PRICE_CRAWL_YEARS = 15

# 배당 데이터 조회 시작일 (YYYYMMDD)
DIVIDEND_START_DATE = "20110101"


# =============================================================================
# 크롤링 옵션 설정
# =============================================================================

# API 호출 간격 (초) - 서버 부하 방지
API_DELAY = 0.3

# 펀드 크롤링 배치 크기
FUND_BATCH_SIZE = 100

# 펀드 크롤링 배치 간 대기 시간 (초)
FUND_BATCH_DELAY = 5


# =============================================================================
# 폴더 자동 생성
# =============================================================================

def create_directories():
    """필요한 폴더가 없으면 생성"""
    for directory in [INPUT_DIR, OUTPUT_DIR]:
        if not os.path.exists(directory):
            os.makedirs(directory)
            print(f"폴더 생성: {directory}")


# 모듈 로드 시 폴더 자동 생성
create_directories()
